define(["react","mendix/filters/builders"],(function(t,e){"use strict";class r extends Error{constructor(){super("Component is used out of context provider")}}class n extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Value is missing in context")}}function o(t){return{hasError:!0,error:t}}function i(t){return{hasError:!1,value:t}}var a;!function(t){t.STRING="string",t.NUMBER="number",t.ENUMERATION="enum",t.DATE="date",t.ASSOCIATION="association"}(a||(a={}));const u="com.mendix.widgets.web.filterable.filterContext";function l(){const e=function(){let e=window[u];return null==e&&(e=t.createContext(void 0),window[u]=e),e}(),n=t.useContext(e);return null==n?o(new r):i(n)}function c(){const[e]=t.useState("DropdownFilter".concat(function(){const t="com.mendix.widgets.web.UUID";return window[t]||(window[t]=1),window[t]++}()));return e}class p extends Error{constructor(){super("The Drop-down filter widget must be placed inside the header of the Data grid 2.0 or Gallery widget.")}}class f extends Error{}class y extends Error{constructor(){super("The attribute type being used for Drop-down filter is not 'Boolean or Enumeration'.")}}const s=()=>new f("Can't find attribute: the attribute for filter is not configured or can't be found."),g=t=>new f("Invalid option (".concat(t||"Unknown","): option has invalid value and can't be used with attribute(s)")),d=()=>new f(["Missing required attribute(s):","the Drop-down filter widget can't be used with the filters options you have selected.","It requires a 'Boolean or Enumeration' attribute to be selected."].join(" "));function b(t){return/Enum|Boolean/.test(t)}function v(t){return t.universe?t.universe.map((e=>{var r,n;return{caption:null!==(r=t.formatter.format(e))&&void 0!==r?r:"",value:null!==(n=null==e?void 0:e.toString())&&void 0!==n?n:""}})):[]}function h(t,e){return"Boolean"===t?"true"!==e&&"false"!==e?e:"true"===e:e}function m(t,e){const r=e.find((e=>t.every((t=>function(t,e){var r;return!(null!==(r=t.universe)&&void 0!==r?r:[]).includes(h(t.type,e))}(t,e.value)))));if(r)return g(r.caption)}function S(t){var e;const{multipleAttributes:r}=t,n=null!==(e=function(t){if(t)return Object.keys(t).map((e=>t[e])).filter((t=>b(t.type)))}(r))&&void 0!==e?e:[];return 0===n.length?o(d()):i(n)}function w(t){return!!t.multipleAttributes?S(t):function(t){const{singleAttribute:e}=t;return void 0===e?o(s()):b(e.type)?i([e]):o(new y)}(t)}function A(t,r,n){return o=>{var i,u,l;const c=o.map((t=>t.value)).join(",");c!==((null===(i=n.valueAttribute)||void 0===i?void 0:i.value)||"")&&(null===(u=n.valueAttribute)||void 0===u||u.setValue(c),null===(l=n.onChange)||void 0===l||l.execute());const p=null==r?void 0:r.map((t=>function(t,r){if(!t||!t.filterable||0===r.length)return;const{id:n,type:o}=t,i=e.attribute(n),a=r.filter((e=>{var r;return null===(r=t.universe)||void 0===r?void 0:r.includes(h(t.type,e.value))})).map((t=>e.equals(i,e.literal(h(o,t.value)))));if(a.length>1)return e.or(...a);const[u]=a;return u}(t,o))).filter((t=>void 0!==t));t({getFilterCondition:()=>p&&p.length>1?e.or(...p):null==p?void 0:p[0],filterType:a.ENUMERATION})}}function j(t,e){var r;const{auto:n,filterOptions:a,ariaLabel:u,style:l,tabIndex:c,multiSelect:p,emptyOptionCaption:f,class:y,defaultValue:s}=e,g=w(t);if(g.hasError)return o(g.error);const d=function(t){const{autoOptions:e,attributes:r,customOptions:n}=t;if(e)return i(r.flatMap(v));const a=n.every((t=>{let{value:e,caption:r}=t;return"available"===e.status&&"available"===r.status})),u=a?n.map((t=>{var e,r;return{caption:null!==(e=t.caption.value)&&void 0!==e?e:"",value:null!==(r=t.value.value)&&void 0!==r?r:""}})):[],l=m(r,u);return l?o(l):i(u)}({autoOptions:n,customOptions:a,attributes:g.value});if(d.hasError)return o(d.error);const b=function(t,e,r){const{singleInitialFilter:n,multipleInitialFilters:o}=t,i=n?null==n?void 0:n.map((t=>t.value)).join(","):null==e?void 0:e.flatMap((t=>null==o?void 0:o[t.id].map((t=>t.value)))).join(",");return i||r}(t,g.value,null==s?void 0:s.value),h=A(t.filterDispatcher,g.value,e);return i({name:e.name,parentChannelName:null!==(r=t.eventsChannelName)&&void 0!==r?r:null,updateFilters:h,options:d.value,initialSelected:b,ariaLabel:null==u?void 0:u.value,className:y,emptyOptionCaption:null==f?void 0:f.value,multiSelect:p,styles:l,tabIndex:c})}var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function P(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&1===Object.keys(t).length?t.default:t}var E,x={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */E=x,function(){var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=typeof o;if("string"===i||"number"===i)r.push(o);else if(Array.isArray(o)){if(o.length){var a=e.apply(null,o);a&&r.push(a)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var u in o)t.call(o,u)&&o[u]&&r.push(u)}}}return r.join(" ")}E.exports?(e.default=e,E.exports=e):window.classNames=e}();var I=x.exports;const F=e=>{let{className:r,bootstrapStyle:n,children:o,role:i}=e;return t.Children.count(o)>0?t.createElement("div",{className:I("alert alert-".concat(n),r),role:i},o):null};function k(e){return t.createElement(F,{bootstrapStyle:"danger"},"Error: ",e.error.message)}F.displayName="Alert";var M,R,U=Object.prototype.toString,_=function(t){var e=U.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===U.call(t.callee)),r};var T=Array.prototype.slice,C=_,N=Object.keys,B=N?function(t){return N(t)}:function(){if(R)return M;var t;if(R=1,!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=_,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!c["$"+t]&&e.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();t=function(t){var o=null!==t&&"object"==typeof t,c="[object Function]"===r.call(t),f=n(t),y=o&&"[object String]"===r.call(t),s=[];if(!o&&!c&&!f)throw new TypeError("Object.keys called on a non-object");var g=a&&c;if(y&&t.length>0&&!e.call(t,0))for(var d=0;d<t.length;++d)s.push(String(d));if(f&&t.length>0)for(var b=0;b<t.length;++b)s.push(String(b));else for(var v in t)g&&"prototype"===v||!e.call(t,v)||s.push(String(v));if(i)for(var h=function(t){if("undefined"==typeof window||!p)return l(t);try{return l(t)}catch(t){return!1}}(t),m=0;m<u.length;++m)h&&"constructor"===u[m]||!e.call(t,u[m])||s.push(u[m]);return s}}return M=t}(),D=Object.keys;B.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return C(t)?D(T.call(t)):D(t)})}else Object.keys=B;return Object.keys||B};var W,$,L=B,G=Error,q=EvalError,V=RangeError,z=ReferenceError,H=SyntaxError,J=TypeError,Z=URIError;function K(){return $?W:($=1,W=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0})}var Y,X="undefined"!=typeof Symbol&&Symbol,Q=K(),tt=function(){return"function"==typeof X&&("function"==typeof Symbol&&("symbol"==typeof X("foo")&&("symbol"==typeof Symbol("bar")&&Q())))},et={__proto__:null,foo:{}},rt=Object,nt=Object.prototype.toString,ot=Math.max,it=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r},at=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==nt.apply(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r,n=function(t,e){for(var r=[],n=e||0,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r}(arguments,1),o=ot(0,e.length-n.length),i=[],a=0;a<o;a++)i[a]="$"+a;if(r=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(i,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var o=e.apply(this,it(n,arguments));return Object(o)===o?o:this}return e.apply(t,it(n,arguments))})),e.prototype){var u=function(){};u.prototype=e.prototype,r.prototype=new u,u.prototype=null}return r},ut=Function.prototype.bind||at,lt=Function.prototype.call,ct=Object.prototype.hasOwnProperty,pt=ut.call(lt,ct),ft=G,yt=q,st=V,gt=z,dt=H,bt=J,vt=Z,ht=Function,mt=function(t){try{return ht('"use strict"; return ('+t+").constructor;")()}catch(t){}},St=Object.getOwnPropertyDescriptor;if(St)try{St({},"")}catch(t){St=null}var wt=function(){throw new bt},At=St?function(){try{return wt}catch(t){try{return St(arguments,"callee").get}catch(t){return wt}}}():wt,jt=tt(),Ot={__proto__:et}.foo===et.foo&&!(et instanceof rt),Pt=Object.getPrototypeOf||(Ot?function(t){return t.__proto__}:null),Et={},xt="undefined"!=typeof Uint8Array&&Pt?Pt(Uint8Array):Y,It={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Y:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Y:ArrayBuffer,"%ArrayIteratorPrototype%":jt&&Pt?Pt([][Symbol.iterator]()):Y,"%AsyncFromSyncIteratorPrototype%":Y,"%AsyncFunction%":Et,"%AsyncGenerator%":Et,"%AsyncGeneratorFunction%":Et,"%AsyncIteratorPrototype%":Et,"%Atomics%":"undefined"==typeof Atomics?Y:Atomics,"%BigInt%":"undefined"==typeof BigInt?Y:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Y:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ft,"%eval%":eval,"%EvalError%":yt,"%Float32Array%":"undefined"==typeof Float32Array?Y:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Y:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Y:FinalizationRegistry,"%Function%":ht,"%GeneratorFunction%":Et,"%Int8Array%":"undefined"==typeof Int8Array?Y:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Y:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jt&&Pt?Pt(Pt([][Symbol.iterator]())):Y,"%JSON%":"object"==typeof JSON?JSON:Y,"%Map%":"undefined"==typeof Map?Y:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&jt&&Pt?Pt((new Map)[Symbol.iterator]()):Y,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Y:Promise,"%Proxy%":"undefined"==typeof Proxy?Y:Proxy,"%RangeError%":st,"%ReferenceError%":gt,"%Reflect%":"undefined"==typeof Reflect?Y:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Y:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&jt&&Pt?Pt((new Set)[Symbol.iterator]()):Y,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jt&&Pt?Pt(""[Symbol.iterator]()):Y,"%Symbol%":jt?Symbol:Y,"%SyntaxError%":dt,"%ThrowTypeError%":At,"%TypedArray%":xt,"%TypeError%":bt,"%Uint8Array%":"undefined"==typeof Uint8Array?Y:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Y:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Y:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Y:Uint32Array,"%URIError%":vt,"%WeakMap%":"undefined"==typeof WeakMap?Y:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Y:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Y:WeakSet};if(Pt)try{null.error}catch(t){var Ft=Pt(Pt(t));It["%Error.prototype%"]=Ft}var kt=function t(e){var r;if("%AsyncFunction%"===e)r=mt("async function () {}");else if("%GeneratorFunction%"===e)r=mt("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=mt("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&Pt&&(r=Pt(o.prototype))}return It[e]=r,r},Mt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Rt=ut,Ut=pt,_t=Rt.call(Function.call,Array.prototype.concat),Tt=Rt.call(Function.apply,Array.prototype.splice),Ct=Rt.call(Function.call,String.prototype.replace),Nt=Rt.call(Function.call,String.prototype.slice),Bt=Rt.call(Function.call,RegExp.prototype.exec),Dt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Wt=/\\(\\)?/g,$t=function(t,e){var r,n=t;if(Ut(Mt,n)&&(n="%"+(r=Mt[n])[0]+"%"),Ut(It,n)){var o=It[n];if(o===Et&&(o=kt(n)),void 0===o&&!e)throw new bt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new dt("intrinsic "+t+" does not exist!")},Lt=function(t,e){if("string"!=typeof t||0===t.length)throw new bt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new bt('"allowMissing" argument must be a boolean');if(null===Bt(/^%?[^%]*%?$/,t))throw new dt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=Nt(t,0,1),r=Nt(t,-1);if("%"===e&&"%"!==r)throw new dt("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new dt("invalid intrinsic syntax, expected opening `%`");var n=[];return Ct(t,Dt,(function(t,e,r,o){n[n.length]=r?Ct(o,Wt,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=$t("%"+n+"%",e),i=o.name,a=o.value,u=!1,l=o.alias;l&&(n=l[0],Tt(r,_t([0,1],l)));for(var c=1,p=!0;c<r.length;c+=1){var f=r[c],y=Nt(f,0,1),s=Nt(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===s||"'"===s||"`"===s)&&y!==s)throw new dt("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),Ut(It,i="%"+(n+="."+f)+"%"))a=It[i];else if(null!=a){if(!(f in a)){if(!e)throw new bt("base intrinsic for "+t+" exists, but the property is not available.");return}if(St&&c+1>=r.length){var g=St(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=Ut(a,f),a=a[f];p&&!u&&(It[i]=a)}}return a},Gt=Lt("%Object.defineProperty%",!0)||!1;if(Gt)try{Gt({},"a",{value:1})}catch(t){Gt=!1}var qt=Gt,Vt=Lt("%Object.getOwnPropertyDescriptor%",!0);if(Vt)try{Vt([],"length")}catch(t){Vt=null}var zt=Vt,Ht=qt,Jt=H,Zt=J,Kt=zt,Yt=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new Zt("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new Zt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Zt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Zt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Zt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Zt("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],u=!!Kt&&Kt(t,e);if(Ht)Ht(t,e,{configurable:null===i&&u?u.configurable:!i,enumerable:null===n&&u?u.enumerable:!n,value:r,writable:null===o&&u?u.writable:!o});else{if(!a&&(n||o||i))throw new Jt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}},Xt=qt,Qt=function(){return!!Xt};Qt.hasArrayLengthDefineBug=function(){if(!Xt)return null;try{return 1!==Xt([],"length",{value:1}).length}catch(t){return!0}};var te=Qt,ee=L,re="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,oe=Array.prototype.concat,ie=Yt,ae=te(),ue=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==ne.call(o)||!n())return;var o;ae?ie(t,e,r,!0):ie(t,e,r)},le=function(t,e){var r=arguments.length>2?arguments[2]:{},n=ee(e);re&&(n=oe.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)ue(t,n[o],e[n[o]],r[n[o]])};le.supportsDescriptors=!!ae;var ce,pe=le,fe={exports:{}},ye={foo:{}},se=Object,ge=Function.prototype.call,de=Object.prototype.hasOwnProperty,be=ut.call(ge,de),ve=SyntaxError,he=Function,me=TypeError,Se=function(t){try{return he('"use strict"; return ('+t+").constructor;")()}catch(t){}},we=Object.getOwnPropertyDescriptor;if(we)try{we({},"")}catch(t){we=null}var Ae=function(){throw new me},je=we?function(){try{return Ae}catch(t){try{return we(arguments,"callee").get}catch(t){return Ae}}}():Ae,Oe=tt(),Pe={__proto__:ye}.foo===ye.foo&&!({__proto__:null}instanceof se),Ee=Object.getPrototypeOf||(Pe?function(t){return t.__proto__}:null),xe={},Ie="undefined"!=typeof Uint8Array&&Ee?Ee(Uint8Array):ce,Fe={"%AggregateError%":"undefined"==typeof AggregateError?ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?ce:ArrayBuffer,"%ArrayIteratorPrototype%":Oe&&Ee?Ee([][Symbol.iterator]()):ce,"%AsyncFromSyncIteratorPrototype%":ce,"%AsyncFunction%":xe,"%AsyncGenerator%":xe,"%AsyncGeneratorFunction%":xe,"%AsyncIteratorPrototype%":xe,"%Atomics%":"undefined"==typeof Atomics?ce:Atomics,"%BigInt%":"undefined"==typeof BigInt?ce:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?ce:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?ce:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?ce:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?ce:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?ce:FinalizationRegistry,"%Function%":he,"%GeneratorFunction%":xe,"%Int8Array%":"undefined"==typeof Int8Array?ce:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?ce:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oe&&Ee?Ee(Ee([][Symbol.iterator]())):ce,"%JSON%":"object"==typeof JSON?JSON:ce,"%Map%":"undefined"==typeof Map?ce:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Oe&&Ee?Ee((new Map)[Symbol.iterator]()):ce,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?ce:Promise,"%Proxy%":"undefined"==typeof Proxy?ce:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?ce:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?ce:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Oe&&Ee?Ee((new Set)[Symbol.iterator]()):ce,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Oe&&Ee?Ee(""[Symbol.iterator]()):ce,"%Symbol%":Oe?Symbol:ce,"%SyntaxError%":ve,"%ThrowTypeError%":je,"%TypedArray%":Ie,"%TypeError%":me,"%Uint8Array%":"undefined"==typeof Uint8Array?ce:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?ce:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?ce:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?ce:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?ce:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?ce:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?ce:WeakSet};if(Ee)try{null.error}catch(t){var ke=Ee(Ee(t));Fe["%Error.prototype%"]=ke}var Me=function t(e){var r;if("%AsyncFunction%"===e)r=Se("async function () {}");else if("%GeneratorFunction%"===e)r=Se("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=Se("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&Ee&&(r=Ee(o.prototype))}return Fe[e]=r,r},Re={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ue=ut,_e=be,Te=Ue.call(Function.call,Array.prototype.concat),Ce=Ue.call(Function.apply,Array.prototype.splice),Ne=Ue.call(Function.call,String.prototype.replace),Be=Ue.call(Function.call,String.prototype.slice),De=Ue.call(Function.call,RegExp.prototype.exec),We=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$e=/\\(\\)?/g,Le=function(t,e){var r,n=t;if(_e(Re,n)&&(n="%"+(r=Re[n])[0]+"%"),_e(Fe,n)){var o=Fe[n];if(o===xe&&(o=Me(n)),void 0===o&&!e)throw new me("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new ve("intrinsic "+t+" does not exist!")},Ge=function(t,e){if("string"!=typeof t||0===t.length)throw new me("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new me('"allowMissing" argument must be a boolean');if(null===De(/^%?[^%]*%?$/,t))throw new ve("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=Be(t,0,1),r=Be(t,-1);if("%"===e&&"%"!==r)throw new ve("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new ve("invalid intrinsic syntax, expected opening `%`");var n=[];return Ne(t,We,(function(t,e,r,o){n[n.length]=r?Ne(o,$e,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=Le("%"+n+"%",e),i=o.name,a=o.value,u=!1,l=o.alias;l&&(n=l[0],Ce(r,Te([0,1],l)));for(var c=1,p=!0;c<r.length;c+=1){var f=r[c],y=Be(f,0,1),s=Be(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===s||"'"===s||"`"===s)&&y!==s)throw new ve("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),_e(Fe,i="%"+(n+="."+f)+"%"))a=Fe[i];else if(null!=a){if(!(f in a)){if(!e)throw new me("base intrinsic for "+t+" exists, but the property is not available.");return}if(we&&c+1>=r.length){var g=we(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=_e(a,f),a=a[f];p&&!u&&(Fe[i]=a)}}return a},qe=Lt,Ve=Yt,ze=te(),He=zt,Je=qe("%TypeError%"),Ze=qe("%Math.floor%"),Ke=function(t,e){if("function"!=typeof t)throw new Je("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||Ze(e)!==e)throw new Je("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in t&&He){var i=He(t,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(ze?Ve(t,"length",e,!0,!0):Ve(t,"length",e)),t};!function(t){var e=ut,r=Ge,n=Ke,o=r("%TypeError%"),i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(a,i),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){if("function"!=typeof t)throw new o("a function is required");var r=u(e,a,arguments);return n(r,1+c(0,t.length-(arguments.length-1)),!0)};var p=function(){return u(e,i,arguments)};l?l(t.exports,"apply",{value:p}):t.exports.apply=p}(fe);var Ye=Ge,Xe=fe.exports,Qe=Xe(Ye("String.prototype.indexOf")),tr=function(t,e){var r=Ye(t,!!e);return"function"==typeof r&&Qe(t,".prototype.")>-1?Xe(r):r},er=L,rr=K()(),nr=tr,or=Object,ir=nr("Array.prototype.push"),ar=nr("Object.prototype.propertyIsEnumerable"),ur=rr?Object.getOwnPropertySymbols:null,lr=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=or(t);if(1===arguments.length)return r;for(var n=1;n<arguments.length;++n){var o=or(arguments[n]),i=er(o),a=rr&&(Object.getOwnPropertySymbols||ur);if(a)for(var u=a(o),l=0;l<u.length;++l){var c=u[l];ar(o,c)&&ir(i,c)}for(var p=0;p<i.length;++p){var f=i[p];if(ar(o,f)){var y=o[f];r[f]=y}}}return r},cr=lr,pr=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?cr:Object.assign:cr},fr=pe,yr=pr,sr=pe,gr=lr,dr=pr,br=function(){var t=yr();return fr(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},vr=fe.exports.apply(dr()),hr=function(t,e){return vr(Object,arguments)};sr(hr,{getPolyfill:dr,implementation:gr,shim:br});var mr=hr,Sr=function(){return"string"==typeof function(){}.name},wr=Object.getOwnPropertyDescriptor;if(wr)try{wr([],"length")}catch(t){wr=null}Sr.functionsHaveConfigurableNames=function(){if(!Sr()||!wr)return!1;var t=wr((function(){}),"name");return!!t&&!!t.configurable};var Ar=Function.prototype.bind;Sr.boundFunctionsHaveNames=function(){return Sr()&&"function"==typeof Ar&&""!==function(){}.bind().name};var jr=Sr,Or=Yt,Pr=te(),Er=jr.functionsHaveConfigurableNames(),xr=TypeError,Ir=function(t,e){if("function"!=typeof t)throw new xr("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!Er||(Pr?Or(t,"name",e,!0,!0):Or(t,"name",e)),t},Fr=Object,kr=TypeError,Mr=Ir((function(){if(null!=this&&this!==Fr(this))throw new kr("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0),Rr=Mr,Ur=pe.supportsDescriptors,_r=Object.getOwnPropertyDescriptor,Tr=function(){if(Ur&&"gim"===/a/gim.flags){var t=_r(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return Rr},Cr=pe.supportsDescriptors,Nr=Tr,Br=Object.getOwnPropertyDescriptor,Dr=Object.defineProperty,Wr=TypeError,$r=Object.getPrototypeOf,Lr=/a/,Gr=pe,qr=Mr,Vr=Tr,zr=function(){if(!Cr||!$r)throw new Wr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=Nr(),e=$r(Lr),r=Br(e,"flags");return r&&r.get===t||Dr(e,"flags",{configurable:!0,enumerable:!1,get:t}),t},Hr=(0,fe.exports)(Vr());Gr(Hr,{getPolyfill:Vr,implementation:qr,shim:zr});var Jr=Hr,Zr={exports:{}},Kr=K(),Yr=function(){return Kr()&&!!Symbol.toStringTag},Xr=Yr(),Qr=tr("Object.prototype.toString"),tn=function(t){return!(Xr&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===Qr(t)},en=function(t){return!!tn(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==Qr(t)&&"[object Function]"===Qr(t.callee)},rn=function(){return tn(arguments)}();tn.isLegacyArguments=en;var nn=rn?tn:en,on=P(Object.freeze({__proto__:null,default:{}})),an="function"==typeof Map&&Map.prototype,un=Object.getOwnPropertyDescriptor&&an?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ln=an&&un&&"function"==typeof un.get?un.get:null,cn=an&&Map.prototype.forEach,pn="function"==typeof Set&&Set.prototype,fn=Object.getOwnPropertyDescriptor&&pn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,yn=pn&&fn&&"function"==typeof fn.get?fn.get:null,sn=pn&&Set.prototype.forEach,gn="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,dn="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,bn="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,vn=Boolean.prototype.valueOf,hn=Object.prototype.toString,mn=Function.prototype.toString,Sn=String.prototype.match,wn=String.prototype.slice,An=String.prototype.replace,jn=String.prototype.toUpperCase,On=String.prototype.toLowerCase,Pn=RegExp.prototype.test,En=Array.prototype.concat,xn=Array.prototype.join,In=Array.prototype.slice,Fn=Math.floor,kn="function"==typeof BigInt?BigInt.prototype.valueOf:null,Mn=Object.getOwnPropertySymbols,Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Un="function"==typeof Symbol&&"object"==typeof Symbol.iterator,_n="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Un||"symbol")?Symbol.toStringTag:null,Tn=Object.prototype.propertyIsEnumerable,Cn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Nn(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||Pn.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-Fn(-t):Fn(t);if(n!==t){var o=String(n),i=wn.call(e,o.length+1);return An.call(o,r,"$&_")+"."+An.call(An.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return An.call(e,r,"$&_")}var Bn=on,Dn=Bn.custom,Wn=Vn(Dn)?Dn:null;function $n(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function Ln(t){return An.call(String(t),/"/g,"&quot;")}function Gn(t){return!("[object Array]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}function qn(t){return!("[object RegExp]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}function Vn(t){if(Un)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Rn)return!1;try{return Rn.call(t),!0}catch(t){}return!1}var zn=Object.prototype.hasOwnProperty||function(t){return t in this};function Hn(t,e){return zn.call(t,e)}function Jn(t){return hn.call(t)}function Zn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Kn(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Kn(wn.call(t,0,e.maxStringLength),e)+n}return $n(An.call(An.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Yn),"single",e)}function Yn(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+jn.call(e.toString(16))}function Xn(t){return"Object("+t+")"}function Qn(t){return t+" { ? }"}function to(t,e,r,n){return t+" ("+e+") {"+(n?eo(r,n):xn.call(r,", "))+"}"}function eo(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+xn.call(t,","+r)+"\n"+e.prev}function ro(t,e){var r=Gn(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=Hn(t,o)?e(t[o],t):""}var i,a="function"==typeof Mn?Mn(t):[];if(Un){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var l in t)Hn(t,l)&&(r&&String(Number(l))===l&&l<t.length||Un&&i["$"+l]instanceof Symbol||(Pn.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if("function"==typeof Mn)for(var c=0;c<a.length;c++)Tn.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}var no=Ge,oo=tr,io=function t(e,r,n,o){var i=r||{};if(Hn(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Hn(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Hn(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Hn(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Hn(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Kn(e,i);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var l=String(e);return u?Nn(e,l):l}if("bigint"==typeof e){var c=String(e)+"n";return u?Nn(e,c):c}var p=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=p&&p>0&&"object"==typeof e)return Gn(e)?"[Array]":"[Object]";var f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=xn.call(Array(t.indent+1)," ")}return{base:r,prev:xn.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if(Zn(o,e)>=0)return"[Circular]";function y(e,r,a){if(r&&(o=In.call(o)).push(r),a){var u={depth:i.depth};return Hn(i,"quoteStyle")&&(u.quoteStyle=i.quoteStyle),t(e,u,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!qn(e)){var s=function(t){if(t.name)return t.name;var e=Sn.call(mn.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),g=ro(e,y);return"[Function"+(s?": "+s:" (anonymous)")+"]"+(g.length>0?" { "+xn.call(g,", ")+" }":"")}if(Vn(e)){var d=Un?An.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Rn.call(e);return"object"!=typeof e||Un?d:Xn(d)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var b="<"+On.call(String(e.nodeName)),v=e.attributes||[],h=0;h<v.length;h++)b+=" "+v[h].name+"="+$n(Ln(v[h].value),"double",i);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+On.call(String(e.nodeName))+">"}if(Gn(e)){if(0===e.length)return"[]";var m=ro(e,y);return f&&!function(t){for(var e=0;e<t.length;e++)if(Zn(t[e],"\n")>=0)return!1;return!0}(m)?"["+eo(m,f)+"]":"[ "+xn.call(m,", ")+" ]"}if(function(t){return!("[object Error]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}(e)){var S=ro(e,y);return"cause"in Error.prototype||!("cause"in e)||Tn.call(e,"cause")?0===S.length?"["+String(e)+"]":"{ ["+String(e)+"] "+xn.call(S,", ")+" }":"{ ["+String(e)+"] "+xn.call(En.call("[cause]: "+y(e.cause),S),", ")+" }"}if("object"==typeof e&&a){if(Wn&&"function"==typeof e[Wn]&&Bn)return Bn(e,{depth:p-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!ln||!t||"object"!=typeof t)return!1;try{ln.call(t);try{yn.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var w=[];return cn&&cn.call(e,(function(t,r){w.push(y(r,e,!0)+" => "+y(t,e))})),to("Map",ln.call(e),w,f)}if(function(t){if(!yn||!t||"object"!=typeof t)return!1;try{yn.call(t);try{ln.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var A=[];return sn&&sn.call(e,(function(t){A.push(y(t,e))})),to("Set",yn.call(e),A,f)}if(function(t){if(!gn||!t||"object"!=typeof t)return!1;try{gn.call(t,gn);try{dn.call(t,dn)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Qn("WeakMap");if(function(t){if(!dn||!t||"object"!=typeof t)return!1;try{dn.call(t,dn);try{gn.call(t,gn)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Qn("WeakSet");if(function(t){if(!bn||!t||"object"!=typeof t)return!1;try{return bn.call(t),!0}catch(t){}return!1}(e))return Qn("WeakRef");if(function(t){return!("[object Number]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}(e))return Xn(y(Number(e)));if(function(t){if(!t||"object"!=typeof t||!kn)return!1;try{return kn.call(t),!0}catch(t){}return!1}(e))return Xn(y(kn.call(e)));if(function(t){return!("[object Boolean]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}(e))return Xn(vn.call(e));if(function(t){return!("[object String]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}(e))return Xn(y(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===O)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==Jn(t)||_n&&"object"==typeof t&&_n in t)}(e)&&!qn(e)){var j=ro(e,y),P=Cn?Cn(e)===Object.prototype:e instanceof Object||e.constructor===Object,E=e instanceof Object?"":"null prototype",x=!P&&_n&&Object(e)===e&&_n in e?wn.call(Jn(e),8,-1):E?"Object":"",I=(P||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(x||E?"["+xn.call(En.call([],x||[],E||[]),": ")+"] ":"");return 0===j.length?I+"{}":f?I+"{"+eo(j,f)+"}":I+"{ "+xn.call(j,", ")+" }"}return String(e)},ao=no("%TypeError%"),uo=no("%WeakMap%",!0),lo=no("%Map%",!0),co=oo("WeakMap.prototype.get",!0),po=oo("WeakMap.prototype.set",!0),fo=oo("WeakMap.prototype.has",!0),yo=oo("Map.prototype.get",!0),so=oo("Map.prototype.set",!0),go=oo("Map.prototype.has",!0),bo=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},vo=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new ao("Side channel does not contain "+io(t))},get:function(n){if(uo&&n&&("object"==typeof n||"function"==typeof n)){if(t)return co(t,n)}else if(lo){if(e)return yo(e,n)}else if(r)return function(t,e){var r=bo(t,e);return r&&r.value}(r,n)},has:function(n){if(uo&&n&&("object"==typeof n||"function"==typeof n)){if(t)return fo(t,n)}else if(lo){if(e)return go(e,n)}else if(r)return function(t,e){return!!bo(t,e)}(r,n);return!1},set:function(n,o){uo&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new uo),po(t,n,o)):lo?(e||(e=new lo),so(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=bo(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n},ho=pt,mo=vo(),So=J,wo={assert:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new So("`O` is not an object");if("string"!=typeof e)throw new So("`slot` must be a string");if(mo.assert(t),!wo.has(t,e))throw new So("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new So("`O` is not an object");if("string"!=typeof e)throw new So("`slot` must be a string");var r=mo.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new So("`O` is not an object");if("string"!=typeof e)throw new So("`slot` must be a string");var r=mo.get(t);return!!r&&ho(r,"$"+e)},set:function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new So("`O` is not an object");if("string"!=typeof e)throw new So("`slot` must be a string");var n=mo.get(t);n||(n={},mo.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(wo);var Ao,jo,Oo,Po,Eo=wo,xo=SyntaxError,Io="object"==typeof StopIteration?StopIteration:null,Fo={}.toString,ko=Array.isArray||function(t){return"[object Array]"==Fo.call(t)};function Mo(){if(jo)return Ao;jo=1;var t=K();return Ao=function(){return t()&&!!Symbol.toStringTag}}function Ro(){if(Po)return Oo;Po=1;var t=String.prototype.valueOf,e=Object.prototype.toString,r=Mo()();return Oo=function(n){return"string"==typeof n||"object"==typeof n&&(r?function(e){try{return t.call(e),!0}catch(t){return!1}}(n):"[object String]"===e.call(n))},Oo}var Uo,_o="function"==typeof Map&&Map.prototype?Map:null,To="function"==typeof Set&&Set.prototype?Set:null;_o||(Uo=function(t){return!1});var Co=_o?Map.prototype.has:null,No=To?Set.prototype.has:null;Uo||Co||(Uo=function(t){return!1});var Bo,Do=Uo||function(t){if(!t||"object"!=typeof t)return!1;try{if(Co.call(t),No)try{No.call(t)}catch(t){return!0}return t instanceof _o}catch(t){}return!1},Wo="function"==typeof Map&&Map.prototype?Map:null,$o="function"==typeof Set&&Set.prototype?Set:null;$o||(Bo=function(t){return!1});var Lo=Wo?Map.prototype.has:null,Go=$o?Set.prototype.has:null;Bo||Go||(Bo=function(t){return!1});var qo=Bo||function(t){if(!t||"object"!=typeof t)return!1;try{if(Go.call(t),Lo)try{Lo.call(t)}catch(t){return!0}return t instanceof $o}catch(t){}return!1},Vo=nn,zo=function(t){if(!Io)throw new xo("this environment lacks StopIteration");Eo.set(t,"[[Done]]",!1);var e={next:function(){var t=Eo.get(this,"[[Iterator]]"),e=Eo.get(t,"[[Done]]");try{return{done:e,value:e?void 0:t.next()}}catch(e){if(Eo.set(t,"[[Done]]",!0),e!==Io)throw e;return{done:!0,value:void 0}}}};return Eo.set(e,"[[Iterator]]",t),e};if(tt()||K()()){var Ho=Symbol.iterator;Zr.exports=function(t){return null!=t&&void 0!==t[Ho]?t[Ho]():Vo(t)?Array.prototype[Ho].call(t):void 0}}else{var Jo=ko,Zo=Ro(),Ko=Ge,Yo=Ko("%Map%",!0),Xo=Ko("%Set%",!0),Qo=tr,ti=Qo("Array.prototype.push"),ei=Qo("String.prototype.charCodeAt"),ri=Qo("String.prototype.slice"),ni=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},oi=function(t,e){if(Jo(t)||Vo(t))return ni(t);if(Zo(t)){var r=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var r=ei(t,e);if(r<55296||r>56319)return e+1;var n=ei(t,e+1);return n<56320||n>57343?e+1:e+2}(t,r),n=ri(t,r,e);return r=e,{done:e>t.length,value:n}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(Yo||Xo){var ii=Do,ai=qo,ui=Qo("Map.prototype.forEach",!0),li=Qo("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var ci=Qo("Map.prototype.iterator",!0),pi=Qo("Set.prototype.iterator",!0);var fi=Qo("Map.prototype.@@iterator",!0)||Qo("Map.prototype._es6-shim iterator_",!0),yi=Qo("Set.prototype.@@iterator",!0)||Qo("Set.prototype._es6-shim iterator_",!0);Zr.exports=function(t){return function(t){if(ii(t)){if(ci)return zo(ci(t));if(fi)return fi(t);if(ui){var e=[];return ui(t,(function(t,r){ti(e,[r,t])})),ni(e)}}if(ai(t)){if(pi)return zo(pi(t));if(yi)return yi(t);if(li){var r=[];return li(t,(function(t){ti(r,t)})),ni(r)}}}(t)||oi(t)}}else Zr.exports=function(t){if(null!=t)return oi(t,!0)}}var si=function(t){return t!=t},gi=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!si(t)||!si(e))},di=gi,bi=function(){return"function"==typeof Object.is?Object.is:di},vi=bi,hi=pe,mi=pe,Si=gi,wi=bi,Ai=function(){var t=vi();return hi(Object,{is:t},{is:function(){return Object.is!==t}}),t},ji=(0,fe.exports)(wi(),Object);mi(ji,{getPolyfill:wi,implementation:Si,shim:Ai});var Oi,Pi,Ei=ji,xi=Function.prototype.toString,Ii="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Ii&&"function"==typeof Object.defineProperty)try{Oi=Object.defineProperty({},"length",{get:function(){throw Pi}}),Pi={},Ii((function(){throw 42}),null,Oi)}catch(t){t!==Pi&&(Ii=null)}else Ii=null;var Fi=/^\s*class\b/,ki=function(t){try{var e=xi.call(t);return Fi.test(e)}catch(t){return!1}},Mi=function(t){try{return!ki(t)&&(xi.call(t),!0)}catch(t){return!1}},Ri=Object.prototype.toString,Ui="function"==typeof Symbol&&!!Symbol.toStringTag,_i=!(0 in[,]),Ti=function(){return!1};if("object"==typeof document){var Ci=document.all;Ri.call(Ci)===Ri.call(document.all)&&(Ti=function(t){if((_i||!t)&&(void 0===t||"object"==typeof t))try{var e=Ri.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}var Ni=Ii?function(t){if(Ti(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{Ii(t,null,Oi)}catch(t){if(t!==Pi)return!1}return!ki(t)&&Mi(t)}:function(t){if(Ti(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(Ui)return Mi(t);if(ki(t))return!1;var e=Ri.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&Mi(t)},Bi=Ni,Di=Object.prototype.toString,Wi=Object.prototype.hasOwnProperty,$i=function(t,e,r){if(!Bi(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===Di.call(t)?function(t,e,r){for(var n=0,o=t.length;n<o;n++)Wi.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,n):"string"==typeof t?function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,n):function(t,e,r){for(var n in t)Wi.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,n)},Li=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Gi="undefined"==typeof globalThis?O:globalThis,qi={exports:{}},Vi=Lt,zi=Yt,Hi=te(),Ji=zt,Zi=J,Ki=Vi("%Math.floor%"),Yi=function(t,e){if("function"!=typeof t)throw new Zi("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||Ki(e)!==e)throw new Zi("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in t&&Ji){var i=Ji(t,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(Hi?zi(t,"length",e,!0,!0):zi(t,"length",e)),t};!function(t){var e=ut,r=Lt,n=Yi,o=J,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(a,i),l=qt,c=r("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new o("a function is required");var r=u(e,a,arguments);return n(r,1+c(0,t.length-(arguments.length-1)),!0)};var p=function(){return u(e,i,arguments)};l?l(t.exports,"apply",{value:p}):t.exports.apply=p}(qi);var Xi=Lt,Qi=qi.exports,ta=Qi(Xi("String.prototype.indexOf")),ea=function(t,e){var r=Xi(t,!!e);return"function"==typeof r&&ta(t,".prototype.")>-1?Qi(r):r},ra=$i,na=function(){for(var t=[],e=0;e<Li.length;e++)"function"==typeof Gi[Li[e]]&&(t[t.length]=Li[e]);return t},oa=qi.exports,ia=ea,aa=zt,ua=ia("Object.prototype.toString"),la=Mo()(),ca="undefined"==typeof globalThis?O:globalThis,pa=na(),fa=ia("String.prototype.slice"),ya=Object.getPrototypeOf,sa=ia("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},ga={__proto__:null};ra(pa,la&&aa&&ya?function(t){var e=new ca[t];if(Symbol.toStringTag in e){var r=ya(e),n=aa(r,Symbol.toStringTag);if(!n){var o=ya(r);n=aa(o,Symbol.toStringTag)}ga["$"+t]=oa(n.get)}}:function(t){var e=new ca[t],r=e.slice||e.set;r&&(ga["$"+t]=oa(r))});var da,ba,va,ha,ma=function(t){if(!t||"object"!=typeof t)return!1;if(!la){var e=fa(ua(t),8,-1);return sa(pa,e)>-1?e:"Object"===e&&function(t){var e=!1;return ra(ga,(function(r,n){if(!e)try{r(t),e=fa(n,1)}catch(t){}})),e}(t)}return aa?function(t){var e=!1;return ra(ga,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=fa(n,1))}catch(t){}})),e}(t):null},Sa=fe.exports,wa=tr,Aa=Ge,ja=function(t){return!!ma(t)},Oa=Aa("ArrayBuffer",!0),Pa=Aa("Float32Array",!0),Ea=wa("ArrayBuffer.prototype.byteLength",!0),xa=Oa&&!Ea&&(new Oa).slice,Ia=xa&&Sa(xa),Fa=Ea||Ia?function(t){if(!t||"object"!=typeof t)return!1;try{return Ea?Ea(t):Ia(t,0),!0}catch(t){return!1}}:Pa?function(t){try{return new Pa(t).buffer===t&&!ja(t)}catch(e){return"object"==typeof t&&"RangeError"===e.name}}:function(t){return!1},ka=Date.prototype.getDay,Ma=Object.prototype.toString,Ra=Yr(),Ua=tr,_a=Yr();if(_a){da=Ua("Object.prototype.hasOwnProperty"),ba=Ua("RegExp.prototype.exec"),va={};var Ta=function(){throw va};ha={toString:Ta,valueOf:Ta},"symbol"==typeof Symbol.toPrimitive&&(ha[Symbol.toPrimitive]=Ta)}var Ca=Ua("Object.prototype.toString"),Na=Object.getOwnPropertyDescriptor,Ba=_a?function(t){if(!t||"object"!=typeof t)return!1;var e=Na(t,"lastIndex");if(!(e&&da(e,"value")))return!1;try{ba(t,ha)}catch(t){return t===va}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===Ca(t)},Da=tr("SharedArrayBuffer.prototype.byteLength",!0),Wa=Da?function(t){if(!t||"object"!=typeof t)return!1;try{return Da(t),!0}catch(t){return!1}}:function(t){return!1},$a=Number.prototype.toString,La=Object.prototype.toString,Ga=Mo()(),qa=ea,Va=qa("Boolean.prototype.toString"),za=qa("Object.prototype.toString"),Ha=Mo()(),Ja={exports:{}},Za=Object.prototype.toString;if(tt()){var Ka=Symbol.prototype.toString,Ya=/^Symbol\(.*\)$/;Ja.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==Za.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&Ya.test(Ka.call(t))}(t)}catch(t){return!1}}}else Ja.exports=function(t){return!1};var Xa={exports:{}},Qa="undefined"!=typeof BigInt&&BigInt;if("function"==typeof Qa&&"function"==typeof BigInt&&"bigint"==typeof Qa(42)&&"bigint"==typeof BigInt(42)){var tu=BigInt.prototype.valueOf;Xa.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return tu.call(t),!0}catch(t){}return!1}(t))}}else Xa.exports=function(t){return!1};var eu,ru=Ro(),nu=function(t){return"number"==typeof t||"object"==typeof t&&(Ga?function(t){try{return $a.call(t),!0}catch(t){return!1}}(t):"[object Number]"===La.call(t))},ou=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(Ha&&Symbol.toStringTag in t?function(t){try{return Va(t),!0}catch(t){return!1}}(t):"[object Boolean]"===za(t))},iu=Ja.exports,au=Xa.exports,uu="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,lu="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;uu||(eu=function(t){return!1});var cu=uu?uu.prototype.has:null,pu=lu?lu.prototype.has:null;eu||cu||(eu=function(t){return!1});var fu=eu||function(t){if(!t||"object"!=typeof t)return!1;try{if(cu.call(t,cu),pu)try{pu.call(t,pu)}catch(t){return!0}return t instanceof uu}catch(t){}return!1},yu={exports:{}},su=ea,gu=Lt("%WeakSet%",!0),du=su("WeakSet.prototype.has",!0);if(du){var bu=su("WeakMap.prototype.has",!0);yu.exports=function(t){if(!t||"object"!=typeof t)return!1;try{if(du(t,du),bu)try{bu(t,bu)}catch(t){return!0}return t instanceof gu}catch(t){}return!1}}else yu.exports=function(t){return!1};var vu=Do,hu=qo,mu=fu,Su=yu.exports,wu=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Au="undefined"==typeof globalThis?O:globalThis,ju=$i,Ou=function(){for(var t=[],e=0;e<wu.length;e++)"function"==typeof Au[wu[e]]&&(t[t.length]=wu[e]);return t},Pu=fe.exports,Eu=tr,xu=zt,Iu=Eu("Object.prototype.toString"),Fu=Yr(),ku="undefined"==typeof globalThis?O:globalThis,Mu=Ou(),Ru=Eu("String.prototype.slice"),Uu=Object.getPrototypeOf,_u=Eu("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},Tu={__proto__:null};ju(Mu,Fu&&xu&&Uu?function(t){var e=new ku[t];if(Symbol.toStringTag in e){var r=Uu(e),n=xu(r,Symbol.toStringTag);if(!n){var o=Uu(r);n=xu(o,Symbol.toStringTag)}Tu["$"+t]=Pu(n.get)}}:function(t){var e=new ku[t],r=e.slice||e.set;r&&(Tu["$"+t]=Pu(r))});var Cu=tr("ArrayBuffer.prototype.byteLength",!0),Nu=Fa,Bu=mr,Du=tr,Wu=Jr,$u=Ge,Lu=Zr.exports,Gu=vo,qu=Ei,Vu=nn,zu=ko,Hu=Fa,Ju=function(t){return"object"==typeof t&&null!==t&&(Ra?function(t){try{return ka.call(t),!0}catch(t){return!1}}(t):"[object Date]"===Ma.call(t))},Zu=Ba,Ku=Wa,Yu=L,Xu=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:ru(t)?"String":nu(t)?"Number":ou(t)?"Boolean":iu(t)?"Symbol":au(t)?"BigInt":void 0},Qu=function(t){if(t&&"object"==typeof t){if(vu(t))return"Map";if(hu(t))return"Set";if(mu(t))return"WeakMap";if(Su(t))return"WeakSet"}return!1},tl=function(t){if(!t||"object"!=typeof t)return!1;if(!Fu){var e=Ru(Iu(t),8,-1);return _u(Mu,e)>-1?e:"Object"===e&&function(t){var e=!1;return ju(Tu,(function(r,n){if(!e)try{r(t),e=Ru(n,1)}catch(t){}})),e}(t)}return xu?function(t){var e=!1;return ju(Tu,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=Ru(n,1))}catch(t){}})),e}(t):null},el=function(t){return Nu(t)?Cu?Cu(t):t.byteLength:NaN},rl=Du("SharedArrayBuffer.prototype.byteLength",!0),nl=Du("Date.prototype.getTime"),ol=Object.getPrototypeOf,il=Du("Object.prototype.toString"),al=$u("%Set%",!0),ul=Du("Map.prototype.has",!0),ll=Du("Map.prototype.get",!0),cl=Du("Map.prototype.size",!0),pl=Du("Set.prototype.add",!0),fl=Du("Set.prototype.delete",!0),yl=Du("Set.prototype.has",!0),sl=Du("Set.prototype.size",!0);function gl(t,e,r,n){for(var o,i=Lu(t);(o=i.next())&&!o.done;)if(ml(e,o.value,r,n))return fl(t,o.value),!0;return!1}function dl(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function bl(t,e,r,n,o,i){var a=dl(r);if(null!=a)return a;var u=ll(e,a),l=Bu({},o,{strict:!1});return!(void 0===u&&!ul(e,a)||!ml(n,u,l,i))&&(!ul(t,a)&&ml(n,u,l,i))}function vl(t,e,r){var n=dl(r);return null!=n?n:yl(e,n)&&!yl(t,n)}function hl(t,e,r,n,o,i){for(var a,u,l=Lu(t);(a=l.next())&&!a.done;)if(ml(r,u=a.value,o,i)&&ml(n,ll(e,u),o,i))return fl(t,u),!0;return!1}function ml(t,e,r,n){var o=r||{};if(o.strict?qu(t,e):t===e)return!0;if(Xu(t)!==Xu(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return o.strict?qu(t,e):t==e;var i,a=n.has(t),u=n.has(e);if(a&&u){if(n.get(t)===n.get(e))return!0}else i={};return a||n.set(t,i),u||n.set(e,i),function(t,e,r,n){var o,i;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(il(t)!==il(e))return!1;if(Vu(t)!==Vu(e))return!1;var a=zu(t),u=zu(e);if(a!==u)return!1;var l=t instanceof Error,c=e instanceof Error;if(l!==c)return!1;if((l||c)&&(t.name!==e.name||t.message!==e.message))return!1;var p=Zu(t),f=Zu(e);if(p!==f)return!1;if((p||f)&&(t.source!==e.source||Wu(t)!==Wu(e)))return!1;var y=Ju(t),s=Ju(e);if(y!==s)return!1;if((y||s)&&nl(t)!==nl(e))return!1;if(r.strict&&ol&&ol(t)!==ol(e))return!1;var g=tl(t),d=tl(e);if(g!==d)return!1;if(g||d){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var b=Sl(t),v=Sl(e);if(b!==v)return!1;if(b||v){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var h=Hu(t),m=Hu(e);if(h!==m)return!1;if(h||m)return el(t)===el(e)&&("function"==typeof Uint8Array&&ml(new Uint8Array(t),new Uint8Array(e),r,n));var S=Ku(t),w=Ku(e);if(S!==w)return!1;if(S||w)return rl(t)===rl(e)&&("function"==typeof Uint8Array&&ml(new Uint8Array(t),new Uint8Array(e),r,n));if(typeof t!=typeof e)return!1;var A=Yu(t),j=Yu(e);if(A.length!==j.length)return!1;for(A.sort(),j.sort(),o=A.length-1;o>=0;o--)if(A[o]!=j[o])return!1;for(o=A.length-1;o>=0;o--)if(!ml(t[i=A[o]],e[i],r,n))return!1;var O=Qu(t),P=Qu(e);if(O!==P)return!1;if("Set"===O||"Set"===P)return function(t,e,r,n){if(sl(t)!==sl(e))return!1;var o,i,a,u=Lu(t),l=Lu(e);for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new al),pl(a,o.value);else if(!yl(e,o.value)){if(r.strict)return!1;if(!vl(t,e,o.value))return!1;a||(a=new al),pl(a,o.value)}if(a){for(;(i=l.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!gl(a,i.value,r.strict,n))return!1}else if(!r.strict&&!yl(t,i.value)&&!gl(a,i.value,r.strict,n))return!1;return 0===sl(a)}return!0}(t,e,r,n);if("Map"===O)return function(t,e,r,n){if(cl(t)!==cl(e))return!1;var o,i,a,u,l,c,p=Lu(t),f=Lu(e);for(;(o=p.next())&&!o.done;)if(u=o.value[0],l=o.value[1],u&&"object"==typeof u)a||(a=new al),pl(a,u);else if(void 0===(c=ll(e,u))&&!ul(e,u)||!ml(l,c,r,n)){if(r.strict)return!1;if(!bl(t,e,u,l,r,n))return!1;a||(a=new al),pl(a,u)}if(a){for(;(i=f.next())&&!i.done;)if(u=i.value[0],c=i.value[1],u&&"object"==typeof u){if(!hl(a,t,u,c,r,n))return!1}else if(!(r.strict||t.has(u)&&ml(ll(t,u),c,r,n)||hl(a,t,u,c,Bu({},r,{strict:!1}),n)))return!1;return 0===sl(a)}return!0}(t,e,r,n);return!0}(t,e,o,n)}function Sl(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}var wl=function(t,e,r){return ml(t,e,r,Gu())};const Al="__EMPTY_VALUE__";function jl(e,r){t.useEffect((()=>{const{current:t}=Array.isArray(e)?e[0]:e;if(!t)return;const n=t.ownerDocument,o=function(t,e){const r=Array.isArray(t)?t:[t];return t=>{r.every((e=>{let{current:r}=e;return r&&!r.contains(t.target)}))&&e()}}(e,r);return n.addEventListener("mousedown",o),n.addEventListener("touchstart",o),()=>{n.removeEventListener("mousedown",o),n.removeEventListener("touchstart",o)}}),[e,r])}function Ol(e,r){const[n,o]=t.useState(),i=t.useCallback((()=>{o((t=>{const r=null==e?void 0:e.getBoundingClientRect();return o=r,(n=t)&&o&&n.height===o.height&&n.width===o.width&&n.bottom===o.bottom&&n.top===o.top&&n.left===o.left&&n.right===o.right?t:r;var n,o}))}),[e]);var a;return a=r?i:void 0,t.useEffect((()=>a?function(t){let e;const r=()=>{e=window.requestAnimationFrame((()=>{t(),r()}))},n=()=>window.cancelAnimationFrame(e);return r(),n}(a):void 0),[a]),n}function Pl(){}const El=t.forwardRef(((e,r)=>{const{footer:n,id:o,options:i,multiSelect:a,onContentScroll:u,selected:l,onOptionClick:c,onBlur:p,position:f,width:y}=e,s=i.length>0,g=function(t){return e=>t.includes(e)}(l),d=s?t.createElement("ul",{id:"".concat(o,"-dropdown-list"),className:"dropdown-list dropdown-content-section",role:"menu",onScroll:u,"data-focusindex":0,style:{position:"fixed",width:y,top:null==f?void 0:f.bottom,left:null==f?void 0:f.left}},i.map(((e,r)=>t.createElement("li",{className:I({"filter-selected":!a&&g(e.value)}),key:"val:".concat(e.value),onClick:t=>{t.preventDefault(),t.stopPropagation(),c(e)},onKeyDown:t=>{"Enter"===t.key||" "===t.key?(t.preventDefault(),t.stopPropagation(),c(e)):("Tab"===t.key&&(r+1===i.length||t.shiftKey&&0===r)||"Escape"===t.key)&&(t.preventDefault(),p())},title:e.caption,role:"menuitem",tabIndex:0},a?t.createElement(t.Fragment,null,t.createElement("input",{id:"".concat(o,"_checkbox_toggle_").concat(r),type:"checkbox",checked:g(e.value),onChange:Pl}),t.createElement("label",{htmlFor:"".concat(o,"_checkbox_toggle_").concat(r),style:{pointerEvents:"none"}},e.caption)):t.createElement("div",{className:"filter-label"},e.caption))))):null;return t.createElement("div",{className:"dropdown-content",ref:r},d,n)}));function xl(e){const{ariaLabel:r,status:n,id:o,inputValue:i,placeholder:a,onContainerClick:u,show:l}=e;return n||t.createElement("input",{value:i,placeholder:a,className:"form-control dropdown-triggerer",onClick:u,onChange:Pl,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),u&&u())},"aria-haspopup":!0,"aria-expanded":l,"aria-controls":"".concat(o,"-dropdown-list"),"aria-label":r})}function Il(e){var r;const{ariaLabel:n,className:o,status:i,footer:a,id:u,options:l,selected:c,inputValue:p,placeholder:f,multiSelect:y,tabIndex:s,styles:g,onSelect:d,onTriggerClick:b,onContentScroll:v}=e,[h,m]=t.useState(!1),S=t.useRef(null),w=t.useRef(null),A=Ol(S.current||null,h),j=t.useCallback((t=>{d(t.value),y||m(!1)}),[d,y]);jl([S,w],(()=>m(!1)));const O=t.useCallback((()=>{var t,e;m(!1),null===(e=null===(t=S.current)||void 0===t?void 0:t.querySelector("input"))||void 0===e||e.focus()}),[m]),P=t.useCallback((()=>{m((t=>!t)),setTimeout((()=>{var t,e;null===(e=null===(t=w.current)||void 0===t?void 0:t.querySelector('[role="menuitem"]'))||void 0===e||e.focus()}),10),b&&b()}),[b]);return t.createElement("div",{className:I("dropdown-container",o),"data-focusindex":null!=s?s:0,ref:S,style:g},t.createElement(xl,{ariaLabel:n,status:i,id:u,inputValue:p,placeholder:f,show:h,onContainerClick:P}),h?t.createElement(El,{position:A,footer:a,id:u,options:l,multiSelect:y,onContentScroll:v,selected:c,onOptionClick:j,onBlur:O,ref:w,width:null===(r=S.current)||void 0===r?void 0:r.clientWidth}):null)}const Fl=Object.freeze({reset:{value:"reset.value",filters:"reset.filters"}});function kl(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let Ml=()=>({emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(let e=0,n=this.events[t]||[],o=n.length;e<o;e++)n[e](...r)},events:{},on(t,e){var r;return((r=this.events)[t]||(r[t]=[])).push(e),()=>{var r;this.events[t]=null===(r=this.events[t])||void 0===r?void 0:r.filter((t=>e!==t))}}});const Rl="com.mendix.widgets.web.plugin.externalEvents";class Ul{constructor(){kl(this,"channels",void 0),kl(this,"id",Math.random().toString().slice(2)),this.channels=new Map}disposeChannel(t){const e=this.channels.get(t);return e&&(e.events={}),this.channels.delete(t)}getChannel(t){let e=this.channels.get(t);return e||(e=Ml(),this.channels.set(t,e),e)}emit(t,e){for(var r,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];null===(r=this.channels.get(t))||void 0===r||r.emit(e,...o)}subscribe(t,e,r){return this.getChannel(t).on(e,r),()=>this.unsubscribe(t,e,r)}unsubscribe(t,e,r){const n=this.channels.get(t);if(!n)return;const o=n.events[e];o&&(n.events[e]=o.filter((t=>t!==r)));0===Object.values(n.events).flat().reduce(((t,e)=>e?t+1:t),0)&&this.disposeChannel(t)}}function _l(){var t,e;return null!==(e=(t=window)[Rl])&&void 0!==e?e:t[Rl]=function(){if(Object.prototype.hasOwnProperty.call(window,Rl))throw new Error("Widget plugin external events: plugin already initialized!");return new Ul}()}function Tl(e,r,n){t.useEffect((()=>{if(void 0!==e)return _l().subscribe(e,r,n)}),[e,r])}function Cl(e){var r,n;const o=!!e.multiSelect,i=function(t,e){var r;return e.multiSelect?t:[{caption:null!==(r=e.emptyOptionCaption)&&void 0!==r?r:"",value:Al},...t]}(e.options,{multiSelect:o,emptyOptionCaption:e.emptyOptionCaption}),[a,{toggle:u,setSelected:l,reset:c}]=function(e,r){const[n,o]=t.useState((()=>new Set(r))),i=t.useMemo((()=>({setSelected:t=>o((e=>{const r=new Set(t);return wl(e,r)?e:r})),toggle:t=>o((e=>(e.has(t)?e.delete(t):e.add(t),new Set(e)))),reset:()=>o(new Set)})),[]),a=function(t,e){return e.filter((e=>t.has(e.value))).map((t=>{let{caption:e}=t;return e})).join(",")}(n,e);return[t.useMemo((()=>({inputValue:a,selected:[...n.values()]})),[n,a]),i]}(i,(null!==(r=e.initialSelected)&&void 0!==r?r:"").split(",").filter((t=>""!==t)));const p=t.useCallback((t=>{o?u(t):l(t===Al?[]:[t])}),[]);return function(e,r,n){t.useEffect((()=>null==e?void 0:e(r.filter((t=>n.includes(t.value))))),[])}(e.updateFilters,i,a.selected),function(e,r){const n=t.useRef(void 0);t.useEffect((()=>{void 0!==n.current&&e(n.current,r),n.current=r}),r)}(((t,r)=>{let[n]=r;var o;null===(o=e.updateFilters)||void 0===o||o.call(e,n.length>0?i.filter((t=>n.includes(t.value))):[])}),[a.selected]),function(e){let{widgetName:r,parentChannelName:n,listener:o}=e;const{current:i}=t.useRef(o);Tl(r,Fl.reset.value,i),Tl(n,Fl.reset.value,i)}({widgetName:e.name,parentChannelName:null!==(n=e.parentChannelName)&&void 0!==n?n:void 0,listener:c}),t.createElement(Il,{ariaLabel:e.ariaLabel,className:e.className,footer:e.footer,id:e.id,inputValue:a.inputValue,multiSelect:o,onSelect:p,options:i,selected:a.selected,status:e.status,styles:e.styles,tabIndex:e.tabIndex,placeholder:e.emptyOptionCaption,onContentScroll:e.onContentScroll,onTriggerClick:e.onTriggerClick})}function Nl(e){const r=c(),n=j(e.context,e.widgetProps);return n.hasError?t.createElement(k,{error:n.error}):t.createElement(Cl,{...n.value,id:r})}function Bl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}const Dl=(t,e,r)=>{t((t=>"available"===e.status&&e.hasMoreItems?t+r:t))};function Wl(e){const[r,n]=t.useMemo((()=>function(t,e){let r=0,n=0;return[function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];const u=(new Date).getTime()-n,l=()=>{r=0,n=(new Date).getTime(),t(...i)};r||(u>=e?l():r=window.setTimeout(l,e-u))},()=>{clearTimeout(r),r=0}]}(Dl,e)),[e]);return t.useEffect((()=>n),[n]),r}function $l(t,r){const n=r.map((r=>function(t,r){return e.equals(e.association(t.id),e.literal(r))}(t,r)));return n.length>1?e.or(...n):n[0]}function Ll(t,r){const n=r.map((r=>function(t,r){const n=r.length?e.literal(r.slice()):e.empty();return e.contains(e.association(t.id),n)}(t,[r])));return n.length>1?e.or(...n):n[0]}function Gl(){return t.createElement("div",{className:"form-control text-normal disabled"},"Not filterable")}function ql(e){const{loading:r}=e;return r?t.createElement("div",{className:"dropdown-footer dropdown-content-section"},t.createElement("div",{className:"dropdown-footer-item"},t.createElement("div",{className:"dropdown-loading"},"Loading..."))):null}function Vl(e){let{dispatch:r,widgetProps:n,associationProps:o,eventsChannelName:i}=e;var a,u;const{association:l,optionsSource:p,getOptionLabel:f}=o,y=c(),s=l.filterable,[g,d,b]=function(e){var r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const i=t.useRef(0),a="loading"===e.status,u=0!==i.current,l=t=>{const r=t(i.current);i.current=r,e.limit!==r&&e.setLimit(r)},c=Wl(o);return t.useEffect((()=>l((()=>0))),[]),Bl((()=>l((t=>0===t?n:t))),(()=>c(l,e,n)),{isFetched:u,isLoading:a,hasMore:!!e.hasMoreItems,items:null!==(r=e.items)&&void 0!==r?r:[]})}(p),v=s?b.items:[],[h,m]=function(t,e){return Bl(t.map((t=>({value:t.id,caption:e(t)}))),Object.fromEntries(t.map((t=>[t.id,t]))))}(v,f),S=function(t,e,r,n){return o=>{const i=function(t,e){var r;return(""===(null===(r=e[0])||void 0===r?void 0:r.value)?[]:e).map((e=>t[e.value]))}(r,o);t({getFilterCondition(){if(!(i.length<1))return"Reference"===e.type?$l(e,i):Ll(e,i)}}),n&&n.execute()}}(r,l,m),w=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{triggerZoneHeight:n=0}=r,o=t.useRef({callback:e,offset:Math.max(n,0),isInDeadZone:!1});return o.current.callback=e,t.useCallback((t=>{const{current:{isInDeadZone:e,callback:r,offset:n}}=o,i=t.currentTarget.scrollHeight-n,a=Math.floor(i-t.currentTarget.scrollTop)<=Math.floor(t.currentTarget.clientHeight),u=!e&&a;o.current.isInDeadZone=a,u&&r(t)}),[])}(d,{triggerZoneHeight:100});return t.createElement(Cl,{name:n.name,parentChannelName:i,id:y,updateFilters:S,options:h,ariaLabel:null===(a=n.ariaLabel)||void 0===a?void 0:a.value,className:n.class,emptyOptionCaption:null===(u=n.emptyOptionCaption)||void 0===u?void 0:u.value,multiSelect:n.multiSelect,styles:n.style,tabIndex:n.tabIndex,status:s?void 0:t.createElement(Gl,null),footer:t.createElement(ql,{loading:b.isLoading}),onTriggerClick:g,onContentScroll:b.hasMore?w:void 0})}function zl(e){let{context:r,widgetProps:a}=e;var u;const l=null==(c=r).associationProperties?o(new n("referenceProperties is undefined")):i(c.associationProperties);var c;return l.hasError?t.createElement(k,{error:l.error}):t.createElement(Vl,{widgetProps:a,associationProps:l.value,dispatch:r.filterDispatcher,eventsChannelName:null!==(u=r.eventsChannelName)&&void 0!==u?u:null})}return function(e){var r;const n=l();if(n.hasError)return t.createElement(k,{error:new p});if("loading"===(null===(r=e.defaultValue)||void 0===r?void 0:r.status))return t.createElement(t.Fragment,null);const o=n.value.associationProperties?zl:Nl;return t.createElement(o,{context:n.value,widgetProps:e})}}));
